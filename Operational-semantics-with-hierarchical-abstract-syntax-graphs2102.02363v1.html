
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Operational semantics with hierarchical abstract syntax graphs2102.02363v1</title>
        <style>
            * {
              padding: 0;
              margin: 0;
              box-sizing: border-box;
            }
             html {
              line-height: 1.15; /* 1 */
              -webkit-text-size-adjust: 100%; /* 2 */
            }
            body {
              padding: 20px;
              margin: 0;
            }
            main {
              display: block;
            }
            h1 {
              font-size: 2em;
              margin: 0.67em 0;
            }
            hr {
              box-sizing: content-box; /* 1 */
              height: 0; /* 1 */
              overflow: visible; /* 2 */
            }
            pre {
              font-family: monospace, monospace; /* 1 */
              font-size: 1em; /* 2 */
            }
            a {
              background-color: transparent;
            }
            abbr[title] {
              border-bottom: none; /* 1 */
              text-decoration: underline; /* 2 */
              text-decoration: underline dotted; /* 2 */
            }
            b,
            strong {
              font-weight: bolder;
            }
            code,
            kbd,
            samp {
              font-family: monospace, monospace; /* 1 */
              font-size: 1em; /* 2 */
            }
            small {
              font-size: 80%;
            }
            sub,
            sup {
              font-size: 75%;
              line-height: 0;
              position: relative;
              vertical-align: baseline;
            }
            sub {
              bottom: -0.25em;
            }
            sup {
              top: -0.5em;
            }
            img {
              border-style: none;
            }
            button,
            input,
            optgroup,
            select,
            textarea {
              font-family: inherit; /* 1 */
              font-size: 100%; /* 1 */
              line-height: 1.15; /* 1 */
              margin: 0; /* 2 */
            }
            button,
            input { /* 1 */
              overflow: visible;
            }
            button,
            select { /* 1 */
              text-transform: none;
            }
            button,
            [type="button"],
            [type="reset"],
            [type="submit"] {
              -webkit-appearance: button;
            }
            button::-moz-focus-inner,
            [type="button"]::-moz-focus-inner,
            [type="reset"]::-moz-focus-inner,
            [type="submit"]::-moz-focus-inner {
              border-style: none;
              padding: 0;
            }
            button:-moz-focusring,
            [type="button"]:-moz-focusring,
            [type="reset"]:-moz-focusring,
            [type="submit"]:-moz-focusring {
              outline: 1px dotted ButtonText;
            }
            fieldset {
              padding: 0.35em 0.75em 0.625em;
            }
            legend {
              box-sizing: border-box; /* 1 */
              color: inherit; /* 2 */
              display: table; /* 1 */
              max-width: 100%; /* 1 */
              padding: 0; /* 3 */
              white-space: normal; /* 1 */
            }
            progress {
              vertical-align: baseline;
            }
            textarea {
              overflow: auto;
            }
            [type="checkbox"],
            [type="radio"] {
              box-sizing: border-box; /* 1 */
              padding: 0; /* 2 */
            }
            [type="number"]::-webkit-inner-spin-button,
            [type="number"]::-webkit-outer-spin-button {
              height: auto;
            }
            [type="search"] {
              -webkit-appearance: textfield; /* 1 */
              outline-offset: -2px; /* 2 */
            }
            [type="search"]::-webkit-search-decoration {
              -webkit-appearance: none;
            }
            ::-webkit-file-upload-button {
              -webkit-appearance: button; /* 1 */
              font: inherit; /* 2 */
            }
            details {
              display: block;
            }
            summary {
              display: list-item;
            }
            [hidden] {
              display: none;
            }
             table {
                border-collapse: collapse;
                width: 100%;
                margin-top: 20px;
                margin-bottom: 20px;
              }
              table thead {
                background-color: #e5e5e5;
              }
              table td {
                padding: 8px;
                /*background-color: #e5e5e5;*/
                border: 1px solid #ccc; /* 可选，添加边框样式 */
              }
              table th {
                padding: 8px;
                /*background-color: #e5e5e5;*/
                border: 1px solid #ccc; /* 可选，添加边框样式 */
              }
              h1, h2, h3, h4, h5, h6 {
                margin-bottom: 20px;
              }
              p {
                margin-top: 20px;
                text-indent: 2em;
                margin-bottom: 20px;
              }
        </style>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      </head>
      <body>
        <div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="1" id="mark-9c5ea570-273d-4b52-bda2-d5a6c846006a" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><div><div><div>UNIVERSITYOF BIRMINGHAM University of Birmingham Research at Birmingham</div></div></div><div><br></div><h1><div><div>Operational semantics with hierarchical abstract syntax graphs</div></div></h1><div><br></div><div><div><div>Ghica, Dan R.</div></div></div><div><br></div><div><div><div>DOI:</div></div></div><div><br></div><div><div><div>10.4204/eptcs.334.1</div></div></div><div><br></div><div><div><div>License:</div></div></div><div><br></div><div><div><div>Creative Commons: Attribution (CC BY)</div></div></div><div><br></div><div><div><div>Document Version</div></div></div><div><br></div><div><div><div>Publisher's PDF, also known as Version of record Citation for published version (Harvard): Ghica, DR 2021, 'Operational semantics with hierarchical abstract syntax graphs', Electronic Proceedings in Theoretical Computer Science, EPTCS, vol. 334, pp. 1-10. https://doi.org/10.4204/eptcs.334.1</div></div></div><div><br></div><div><div><div>Link to publication on Research at Birmingham portal</div></div></div><div><br></div><div><div><div>General rights</div></div></div><div><br></div><div><div><div>Unless a licence is specified above, all rights (including copyright and moral rights) in this document are retained by the authors and/or the copyright holders. The express permission of the copyright holder must be obtained for any use of this material other than for purposes permitted by law.</div></div></div><div><br></div><div><div><div>-Users may freely distribute the URL that is used to identify this publication.</div></div></div><div><br></div><div><div><div>*Users may download and/or print one copy of the publication from the University of Birmingham research portal for the purpose of private study or non-commercial research.</div></div></div><div><br></div><div><div><div>•User may use extracts from the document in line with the concept of ‘fair dealing’ under the Copyright, Designs and Patents Act 1988 (?) •Users may not further distribute the material nor use it for the purposes of commercial gain.</div></div></div><div><br></div><div><div><div>Where a licence is displayed above, please note the terms and conditions of the licence govern your use of this document.</div></div></div><div><br></div><div><div><div>When citing, please reference the published version.</div></div></div><div><br></div><div><div><div>Take down policy</div></div></div><div><br></div><div><div><div>While the University of Birmingham exercises care and attention in making items available there are rare occasions when an item has been uploaded in error or has been deemed to be commercially or otherwise sensitive.</div></div></div><div><br></div><div><div><div>If you believe that this is the case for this document, please contact UBIRA@lists.bham.ac.uk providing details and we will remove access to the work immediately and investigate.</div></div></div></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="2" id="mark-6f040e81-ab47-4f77-b04d-84eedb0190e6" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><br><br></div><h1><div><div>Operational Semantics with Hierarchical Abstract Syntax Graphs*</div></div></h1><div><br></div><div><div><div>Dan R. Ghica</div></div></div><div><br></div><div><div><div>Huawei Research, Edinburgh</div></div></div><div><br></div><div><div><div>University of Birmingham, UK</div></div></div><div><br></div><div><div><div>This is a motivating tutorial introduction to a semantic analysis of programming languages using a graphical language as the representation of terms, and graph rewriting as a representation of reduction rules. We show how the graphical language automatically incorporates desirable features, such as <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="0" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="44" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>α</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> -equivalence and how it can describe pure computation,imperative store,and control features in a uniform framework. The graph semantics combines some of the best features of structural operational semantics and abstract machines, while offering powerful new methods for reasoning about contextual equivalence.</div></div></div><div><br></div><div><div><div>All technical details are available in an extended technical report by Muroya and the author [11] and in Muroya's doctoral dissertation [21].</div></div></div><div><br></div><h2><div><div>1 Hierarchical abstract syntax graphs</div></div></h2><div><br></div><div><div><div>Before proceeding with the business of analysing and transforming the source code of a program, a compiler first parses the input text into a sequence of atoms, the lexemes, and then assembles them into a tree, the Abstract Syntax Tree (AST), which corresponds to its grammatical structure. The reason for preferring the AST to raw text or a sequence of lexemes is quite obvious. The structure of the AST incorporates most of the information needed for the following stage of compilation, in particular identifying operations as nodes in the tree and operands as their branches. This makes the AST algorithmically well suited for its purpose. Conversely, the AST excludes irrelevant lexemes, such as separators (white-space, commas, semicolons) and aggregators (brackets, braces), by making them implicit in the tree-like structure. It is always possible to recover the textual input, or rather an equivalent version of it, from the AST via a process known as pretty-printing.</div></div></div><div><br></div><div><div><div>A fair question to ask is whether the AST can be improved upon as a representation of program text, which captures grammatical structure while discarding needless detail. In pretty-printing we know how irrelevant lexemes can be manipulated to achieve a certain aesthetic effect. Redundant brackets can be elided to reduce clutter, white-space can be added or removed to improved alignment, and so on. Such details are accepted as irrelevant.</div></div></div><div><br></div><div><div><div>There is another, deeper level of detail in the text, which is irrelevant but not always appreciated as such: variable names. Whereas we know, formally, that bound variables can be systematically renamed ( <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="1" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="45" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>α</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> -equivalence) the conventional AST will still remember their names,even though variable names induce bureaucratic complications having to do with scope and shadowing. Finally, there is yet another even deeper level of irrelevant detail in the program text, the order in which variables are defined, absent define-use dependencies between the definitions.</div></div></div><div><br></div><div><div><div>Consider the program text in Fig. 1, in which def is a binder associating a variable with a definition as text,akin to a macro,but respecting variable scoping rules. Variable <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="2" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="46" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> in line 3 could be renamed,on</div></div></div><div><br></div><div><div><div>P. Bahr (Ed.): 11th International Workshop on (C) Dan R. Ghica</div></div></div><div><br></div><div><div><div>Computing with Terms and Graphs (TERMGRAPH 2020) This work is licensed under the EPTCS 334, 2021, pp. 1-10, doi:10.4204/EPTCS.334.1 Creative Commons Attribution License.</div></div></div><div><br></div><hr><div><br><!-- Footnote --><br></div><div><div><div>*Extended abstract of invited talk</div></div></div><div><br><!-- Footnote --><br></div><hr><div><br><br></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="3" id="mark-70da01aa-93d4-4bf7-bfda-da6defbdc1ed" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_2.jpg?x=350&amp;y=190&amp;w=1029&amp;h=444&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_2.jpg?x=350&amp;y=190&amp;w=1029&amp;h=444&amp;r=0"><div><br></div><div><div><div>Figure 2: AST vs ASG for variable definition</div></div></div><div><br><!-- Media --><br></div><div><div><div>lines 3-5, to something else to avoid shadowing the variable with the same name on line 1. Lines 1-2 and lines 3-4 can be swapped without changing the result. But these facts are not immediate from examining its AST in Fig 2 (left).</div></div></div><div><br></div><div><div><div>Unlike ASTs, an abstract syntax graphs (ASG) do not treat binders and variables as nodes. Variables are instead represented as links, and binders assign target nodes corresponding to their definitions to the variable links. The ASG of the code in Fig. 1 is represented next to its AST in Fig. 2. To better understand the relation between the AST and the ASG, corresponding nodes are coloured and the links are labelled with variable names. The colour and the labels are not part of the definition of the graph structure, but are just used to aid understanding. The nodes corresponding to variable uses and definitions, left blank, are not part of the ASG. It is thus immediately obvious that the ASG is,by construction,quotiented both by <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="3" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="47" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>α</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> -equivalence and by the order of noninterfering variable bindings. This more general structural equivalence of lambda calculus terms has been dubbed "graph equivalence" by Accattoli et. al. [4].</div></div></div><div><br><!-- Media --><br></div><div><div><div>1 def x = 0 2 def y = x + 1 3 def x = 2 4 def z = x + 3 <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="4" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c35"></mjx-c></mjx-mn><mjx-mstyle><mjx-mspace style="width: 0.278em;"></mjx-mspace></mjx-mstyle><mjx-texatom texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c79"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-texatom space="3" texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c7A"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="48" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c35"></mjx-c></mjx-mn><mjx-mstyle><mjx-mspace style="width: 0.278em;"></mjx-mspace></mjx-mstyle><mjx-texatom texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c79"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-texatom space="3" texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c7A"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn><mstyle scriptlevel="0"><mspace width="0.278em"></mspace></mstyle><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">y</mi></mrow><mo>+</mo><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">z</mi></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container></div></div></div><div><br></div><div><div><div>Figure 1: Bindings</div></div></div><div><br><!-- Media --><br></div><div><div><div>ASGs are also helpful when variables are reused, as in the Fig. 3 example. The AST and the ASG are showed side-by-side in Fig. 2, noting that the links corresponding to the variable <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="5" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c7A"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="49" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c7A"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">z</mi></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> , used twice, now both point to its definition. This is why ASG are no longer trees, but directed acyclic graphs (DAGs). Formally, the</div></div></div><div><br><!-- Media --><br></div><div><div><div>1 def x = 2</div></div></div><div><br></div><div><div><div>2 def z = x + 3</div></div></div><div><br></div><div><div><div><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="6" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn><mjx-mstyle><mjx-mspace style="width: 0.278em;"></mjx-mspace></mjx-mstyle><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D467 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D467 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="50" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn><mjx-mstyle><mjx-mspace style="width: 0.278em;"></mjx-mspace></mjx-mstyle><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D467 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D467 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mstyle scriptlevel="0"><mspace width="0.278em"></mspace></mstyle><mi>z</mi><mo>+</mo><mi>z</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container></div></div></div><div><br><!-- Media --><br></div><div><div><div>Figure 3: Contraction ASGs are hypergraphs with the links a graphical representation of vertices and the nodes a graphical representation of hyperedges.</div></div></div><div><br></div><div><div><div>To represent local variable binding, as encountered in functions as opposed to simple variable definition discussed above, we note that local variable binding is always associated with thunks, i.e. code with delayed execution. This is related to the fact that conventional programming languages use normal-order reduction. In this evaluation strategy functions are considered values, i.e. there is no evaluation 'under the lambda'. In other words, functions are thunks and locally-bound variables will always induce a thunk. Because thunks can be considered, operationally, as a single entity, it is convenient to represent them in their ASG form as a single node, labeled by the definition of the thunk, which is also an ASG. In other words, to model local variable binding in functions it is convenient to use graphs labelled by graphs, which are, formally, hierarchical hypergraphs. Dan R. Ghica</div></div></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="4" id="mark-33d3f1af-441e-4282-aeeb-ed0ffd2134ea" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><br><br><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_3.jpg?x=559&amp;y=193&amp;w=612&amp;h=301&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_3.jpg?x=559&amp;y=193&amp;w=612&amp;h=301&amp;r=0"><div><br></div><div><div><div>Figure 4: AST vs ASG for contraction</div></div></div><div><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_3.jpg?x=257&amp;y=583&amp;w=1173&amp;h=501&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_3.jpg?x=257&amp;y=583&amp;w=1173&amp;h=501&amp;r=0"><div><br></div><div><div><div>Figure 5: Hierarchical ASGs</div></div></div><div><br><!-- Media --><br></div><div><div><div>To model variable behaviour in thunks correctly, our ASGs need to be interfaced, i.e. there needs to be a defined order on incoming links. If a thunk has <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="7" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="51" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> bound variables and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="8" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="52" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> free variables then the first <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="9" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="53" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> incoming links of the ASG used as its label represent the bound variables,in the order in which they are bound. The last <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="10" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="54" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> incoming links represent the free variables,in some specified order. The node corresponding to the thunk will also have <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="11" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="55" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> incoming links,representing the definitions of its <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="12" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="56" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> free variables, in an order consistent with the order used by the label ASG. To make the correspondence more perspicuous we connect the links corresponding to the free variables from the labelling ASG to those of the node, as it causes no ambiguity. Fig. 5 shows several examples for hierarchical ASGs and the corresponding terms, with function application labelled as @. Note that thunks associated with lambda expressions are still explicitly linked to a lambda-labelled node. This is because in a programming language thunks can be used for expressions other than function definitions, as we shall see.</div></div></div><div><br></div><h2><div><div>2 Operational semantics</div></div></h2><div><br></div><div><div><div>The most widely used method for specifying programming languages is via operational semantics (OS). There are several versions of OS. We will focus on so-called structural operational semantics (SOS) in the style of Plotkin [27], in which a transition relation is defined on configurations consisting of a term <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="13" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="57" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> and some additional information (e.g. a program store, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="14" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="58" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mo>,</mo><mi>t</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> ),so that the definition of the relation is inductive on the structure of the term.</div></div></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="5" id="mark-5028063d-25e1-403f-b26c-87897c149c3f" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><br><br><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_4.jpg?x=381&amp;y=193&amp;w=1040&amp;h=370&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_4.jpg?x=381&amp;y=193&amp;w=1040&amp;h=370&amp;r=0"><div><br></div><div><div><div>Figure 7: ASG rewrite as basic reductions</div></div></div><div><br><!-- Media --><br></div><div><div><div>Typically the transition relation is written as <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="15" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2192"></mjx-c></mjx-mo><mjx-msup space="4"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-msup space="2"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="59" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2192"></mjx-c></mjx-mo><mjx-msup space="4"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-msup space="2"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy="false">→</mo><msup><mrow data-mjx-texclass="ORD"><mi>s</mi></mrow><mrow data-mjx-texclass="ORD"><mi data-mjx-alternate="1">′</mi></mrow></msup><mo>,</mo><msup><mrow data-mjx-texclass="ORD"><mi>t</mi></mrow><mrow data-mjx-texclass="ORD"><mi data-mjx-alternate="1">′</mi></mrow></msup></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> . There are two kinds of rules, basic reductions which perform operations (e.g. first rule in Fig. 6) and simplification steps which seek re-dexes structurally in the program text according to the evaluation strategy (second rule in Fig. 6). The latter are usually written in natural-deduction style. For example, the rule specifying that + is evaluated left-to-right is the second rule in Fig. 6. Note how the first operand <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="16" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: -0.15em;"><mjx-texatom size="s" texclass="ORD"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="60" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: -0.15em;"><mjx-texatom size="s" texclass="ORD"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow data-mjx-texclass="ORD"><mi>e</mi></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow></msub></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> is evaluated to <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="17" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msubsup><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: -0.258em; margin-left: 0px;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom><mjx-spacer style="margin-top: 0.18em;"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msubsup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="61" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msubsup><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: -0.258em; margin-left: 0px;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom><mjx-spacer style="margin-top: 0.18em;"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msubsup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msubsup><mrow data-mjx-texclass="ORD"><mi>e</mi></mrow><mrow data-mjx-texclass="ORD"><mn>1</mn></mrow><mrow data-mjx-texclass="ORD"><mi data-mjx-alternate="1">′</mi></mrow></msubsup></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> and,in the proces,the store <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="18" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="62" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> may change to <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="19" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="63" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-var"><mjx-c class="mjx-c2032"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow data-mjx-texclass="ORD"><mi>s</mi></mrow><mrow data-mjx-texclass="ORD"><mi data-mjx-alternate="1">′</mi></mrow></msup></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> .</div></div></div><div><br><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_4.jpg?x=1177&amp;y=730&amp;w=314&amp;h=153&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_4.jpg?x=1177&amp;y=730&amp;w=314&amp;h=153&amp;r=0"><div><br></div><div><div><div>Figure 6: SOS (example rules)</div></div></div><div><br><!-- Media --><br></div><div><div><div>SOS can be naturally formulated on ASGs rather than on terms. Basic reductions correspond to graph rewrites and simplification steps to a graph traversal algorithm which seeks the redexes. The basic reduction in Fig. 6 is shown as a graph rewrite in Fig. 7,along with the rule for <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="20" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="64" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> -reduction. The former is quite obvious, but the latter is more interesting. It consists of the deletion of the abstraction-application pair, the 'unboxing' of the thunk by extracting the label of the thunk node and using it in the top-level graph,the re-wiring of the bound variable,now open,to the argument,and using the root node of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="21" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="65" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> as the overall root node. For the <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="22" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="66" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> rule the graphs involved in the rewrite must also be interfaced,with the interface nodes highlighted in grey. Also note that the rule is actually the small <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="23" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="67" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> rule used in calculi of explicit substitution which reduces <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="24" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mrow><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="68" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mi>x</mi></mrow><mo>.</mo><mi>F</mi></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow><mi>M</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> to def <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="25" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="69" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>M</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> in <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="26" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="70" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> [1].</div></div></div><div><br></div><div><div><div>One aspect of the ASG-based evaluation which needs to be clearly explicated is sharing. The DAG structure of the ASG can be refined by introducing special sharing nodes, which, unlike operation nodes, would be allowed to have multiple incoming links. Sharing nodes have a special behaviour during evaluation, managing the process of systematic copying of sub-graphs.</div></div></div><div><br></div><div><div><div>To evaluate an ASG in a way that is consistent with left-to-right call-by-value the traversal is depth-first and left-to-right, without reaching inside thunks, starting from the unique root. The current link in the traversal is called the focus,and it can move <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="27" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="71" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi>u</mi><mi>p</mi></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> (i.e. away from the root) or down (i.e. towards the root). When the focus is moving up and it encounters a copy node it will copy the node shared by the copy node, inserting further copy nodes on its outgoing links. As the focus is moving down, whenever it passes a node which has an associated rewrite rule it will exercise it, then change direction and move up again (refocussing).</div></div></div><div><br></div><div><div><div>In Fig. 8 we show the key steps in the evaluation of the expression <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="28" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mrow><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mrow space="2"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mrow space="2"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="72" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-texatom space="2" texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-texatom space="2" texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mi>f</mi><mi>x</mi></mrow><mo>.</mo><mi>f</mi><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mi>f</mi><mi>x</mi></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow><mo stretchy="false">)</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mi>x</mi></mrow><mo>.</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mn>2</mn></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> . We use the labels of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="29" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="73" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mn>2</mn></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="30" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c40"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="74" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c40"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mo>@</mo></mrow><mn>2</mn></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> for definition and use of a function with two arguments. Step (1) is reached after the focus moves along the path abcbdefa, at which point the rewrite is performed, unboxing the thunk and attaching the arguments to the nodes made available. Step (2) is simply rearranging the ASG in a more readable format. Step (3) is the copying of the node corresponding to the function <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="31" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="75" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mi>x</mi></mrow><mo>.</mo><mi>x</mi><mo>+</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> after the focus traverses path <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="32" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="76" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi>a</mi><mi>b</mi></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> . Step (4) is the <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="33" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="77" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> rewrite applied after the focus traverses path <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="34" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="78" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi>a</mi><mi>b</mi><mi>c</mi><mi>d</mi><mi>b</mi></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> . Step (5) is an arithmetic reduction,followed by another <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="35" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="79" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> rewrite and a final arithmetic reduction.</div></div></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="6" id="mark-2a994a4f-1bb8-468b-ae33-80e0906d1660" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><br><br><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_5.jpg?x=255&amp;y=194&amp;w=1292&amp;h=894&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_5.jpg?x=255&amp;y=194&amp;w=1292&amp;h=894&amp;r=0"><div><br></div><div><div><div>Figure 8: Evaluation of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="36" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mrow><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mrow space="2"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mrow space="2"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="80" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-texatom space="2" texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-texatom space="2" texclass="INNER"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mi>f</mi><mi>x</mi></mrow><mo>.</mo><mi>f</mi><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mi>f</mi><mi>x</mi></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow><mo stretchy="false">)</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">(</mo><mrow data-mjx-texclass="ORD"><mrow data-mjx-texclass="ORD"><mi>λ</mi><mi>x</mi></mrow><mo>.</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mn>2</mn></mrow><mo data-mjx-texclass="CLOSE">)</mo></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> .</div></div></div><div><br><!-- Media --><br></div><div><div><div>The examples in this section (abstraction, application, arithmetic) deal with what is usually deemed pure functional programming, case in which the configuration used by the SOS is the term itself. Expanding the SOS of a language to incorporate effects usually requires revising the format of the configuration of the SOS, which in turn requires reformulating the rules for the preexisting operations. This is a major fragility of the SOS approach, since the revision of the format invalidates any technical results and require laborious re-proving [12]. ASGs can be enhanced with a single new node which will allow the formulation of most known effects, namely an atom node, in the sense of [26]. The ASG OS for a pure language then only differs from the ASG OS of an impure language in that the atom nodes are not involved. The atom node, just like a sharing node, allows multiple incoming links. However, during evaluation, the atom node does not trigger a copying of the node at the end of its outgoing link, but is instead treated as an endpoint by the ASG traversal strategy. Indeed, just as computations are not performed inside of thunks they are also not performed inside of the store. This insight, that the essence of effectful computation is the presence of atoms in the OS is originally due to Pitts, but it turns out to be most effective in ASG-based OS [24].</div></div></div><div><br></div><div><div><div>Fig 9 shows the basic rule for assignment, with the atom indicated as an unlabeled white node. The atom is made to point to the second operand of the assignment operator, while the assignment operator itself reduces to the dummy value inhabiting the unit type. In the process, whatever the atom was attached to before may become inaccessible from the root of the ASG, therefore garbage. Also note that the effect of the assignment is manifest only because other parts of the ASG may point to the atom, a link which is persistent due to the value-like behaviour of the atom.</div></div></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="7" id="mark-842aa083-030a-4871-8016-c60d37e6b33c" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><br><br><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_6.jpg?x=216&amp;y=194&amp;w=1404&amp;h=341&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_6.jpg?x=216&amp;y=194&amp;w=1404&amp;h=341&amp;r=0"><div><br></div><div><div><div>Figure 10: Control in ASG OS</div></div></div><div><br><!-- Media --><br></div><div><div><div>The SOS of a programming language can be further refined (distilled) into an abstract machine, which gives a more explicit representation of the simplification rules via manipulation of context [31]. From this point of view, the ASG representation of the SOS is already an abstract machine, in the sense that it can give a cost-accurate model of execution of the language.</div></div></div><div><br><!-- Media --><br></div><img src="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_6.jpg?x=915&amp;y=777&amp;w=636&amp;h=283&amp;r=0" alt="https://cdn.noedgeai.com/019462c0-6dfc-7198-b399-25c99294080a_6.jpg?x=915&amp;y=777&amp;w=636&amp;h=283&amp;r=0"><div><br></div><div><div><div>Figure 9: Assignment in ASG OS</div></div></div><div><br><!-- Media --><br></div><div><div><div>Another appealing feature of abstract machines is that they can model control-transfer operations more conveniently that SOS. It is not impossible to use SOS for this, but the format of the transition system needs to be significantly revised, making the transitions themselves labelled [29].</div></div></div><div><br></div><div><div><div>Since the ASG OS is formulated via arbitrary rewrites, control can be dealt with in a straightforward way. Fig 10 shows a labelled version of C-style break/continue statements. The operations involved are loop body definition (l),sequential composition (;),break (b),and continue (c). The atom used as the first operand of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="37" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="81" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> becomes bound to the label which is the bound argument of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="38" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="82" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> ,used to anchor a point in the ASG so that the control operations of break or continue can determine where to jump to. If <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="39" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="83" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> terminates normally then the whole cycle repeats. Unlike conventional <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="40" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c43"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="84" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mi class="mjx-n"><mjx-c class="mjx-c43"></mjx-c></mjx-mi></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">C</mi></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> break and continue these variants are labelled, and the labels are first-class citizens, i.e. they can be passed as arguments to or returned from functions.</div></div></div><div><br></div><div><div><div>An interactive evaluator for a variety of programming language features can be found online 1</div></div></div><div><br></div><h2><div><div>3 Reasoning</div></div></h2><div><br></div><div><div><div>SOS was originally considered too 'low level' to reason about equivalence in programming languages, at least in contrast with denotational semantics. However, SOS was considered more 'high level' than alternative operational specifications of programming languages such as abstract machines. In time, a large variety of powerful techniques for reasoning with SOS-like specifications proved that this is indeed a useful formalism for reasoning about equivalence [25] whereas abstract machines remained useful due to their ability to model the cost of evaluation and as a gateway to compiler development [19]. The ASG OS seems to combine felicitously some of the best features of SOS and abstract machines including, as we shall see, the ability to reason about observational equivalence.</div></div></div><div><br></div><hr><div><br><!-- Footnote --><br></div><div><div><div>https://tnttodda.github.io/Spartan-Visualiser/</div></div></div><div><br><!-- Footnote --><br></div><hr><div><br><br></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="8" id="mark-2ce9209a-c915-45fc-bc2f-02cb846048d1" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><div><div>In fact, the graph formulation of the OS makes it possible not just to reason about equivalence, but to formulate a powerful characterisation theorem which establishes equivalence by using some simpler combinatorial criteria. We must first 'tame' the OS by restricting ourselves to sets of rules which are deterministic and refocussing. The first concept is the standard one. The second, initially formulated by Danvy et. al., means that following a basic reduction the focus could be kept either at the point where the rewrite occurs, or moved to the root of the graph, with equal effect [9]. Indeed, all the rules we have presented in this tutorial are refocussing.</div></div></div><div><br></div><div><div><div>Equivalences are also formulated graphically, as families of relations on templates, i.e. sets of graphs with the same interface. For a fixed abstract machine a template is said to be input-safe if evaluation from any input link preserves the relation. Note that, unlike a SOS, we can talk about the evaluation of an ASG which is not a program, in fact not even a term, since evaluation is just a byword for traversal and reduction. A template is said to be output-closed if in the course of evaluation no output link will ever be reached. Finally, a template is said to be robust if it is preserved by all rewrite rules of the language. The main theorem can be simply stated as:</div></div></div><div><br></div><div><div><div>Theorem. (Characterisation [11, Sec. 6]). Robust templates induce observational equivalence.</div></div></div><div><br></div><div><div><div>The conditions used to establish equivalence via the Characterisation Theorem are all elementary and proved by case analysis. Moreover, the theorem allows for robust proofs of equivalence in the sense that they can withstand language extensions. For example we can prove the <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="41" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="85" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> law for a pure language can be extended to a language with imperative store just by showing that the templates used in formulating the law are robust relative to the new rules for variable creation, dereferencing, and assignment (Fig. 4). Which happens to be the case. By contrast, conventional proofs of equivalence are fragile, and are invalidated by even mild language extensions.</div></div></div><div><br></div><h2><div><div>4 Related work</div></div></h2><div><br></div><div><div><div>This is an elementary tutorial introduction and extended motivation for the hypernet semantics of programming languages [11], which is a streamlined and generalised version of the Dynamic Geometry of Interaction (GoI) Machine [22]. They are the outcome of an effort initially motivated by the understanding of call-by-value and effectful computation from a GoI perspective [16, 23].</div></div></div><div><br></div><div><div><div>Graph-based intermediate representations (IR) are established in compiler construction [7] and in the formulation of abstract machines for functional languages [17]. However, the origin of the approach describe here lies elsewhere, in proof nets, a graphical representation of proofs in Linear Logic [13] and especially in their generalisation as interaction nets [18]. Interaction nets already exhibit the hierarchical structure we employ here, which is used to model binding and higher-order structures. Hierarchical graphs are also used elsewhere in semantics, for example as diagram languages of processes known as bigraphs [20].</div></div></div><div><br></div><div><div><div>The connection between linear logic and its varieties and certain monoidal categories kindled significant progress in diagrammatic languages [30]. For instance, traced monoidal categories, used as models of lambda calculus with cyclic sharing [15], led to the development of a hierarchical graph syntax for closures [28] remarkably similar to the one described here. In terms of the treatment of graphs as combinatorial objects, much of the literature considered them rather informally and a formalisation of proof nets as hypergraphs was given much later [14].</div></div></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="9" id="mark-4b981fe8-14ad-4267-be8c-e6e02c1ba754" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><span style="display: inline;"><div><br><br></div><div><div><div>More recently, work by Accattoli has examined the interesting interplay between term-based and graph-based formulations of the call-by-value lambda calculus [2], even though his motivations are somewhat different than ours, as illustrated by this quotation:</div></div></div><div><br></div><div><div><div>It is far from easy to realize an isomorphism between terms and nets, as it is necessary to take care of many delicate details about weakenings, contractions, representation of variables, administrative reduction steps, and so on. [...] More generally, such a strong relationship turns the calculus into an algebraic language for proof nets, providing a handy tool to reason by structural induction over proof nets.</div></div></div><div><br></div><div><div><div>In fact, a properly formalised graphical syntax can be just as powerful and just as rigorous as an algebraic language. Moreover, the graphical language can be both simpler and better specified than the term language, for example in the case of the calculus of explicit substitutions, which lacks a proper formulation of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="42" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="86" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>α</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> -equivalence [3].</div></div></div><div><br></div><div><div><div>To conclude, we see the ASG operational semantics as a first step in an exciting and potentially fruitful direction. Graphical languages are starting to emerge as a new and genuine formalism which can give alternative, and sometimes improved, representations to theories in fields as different as quantum computation [8], linear and affine algebra [5], digital circuits [10], signal flow [6] and more. The motivations for this emergence are mixed, from the raw intuitive appeal of visual representations to improved algorithmic properties. Examining how this methodology can be extended to programming languages is an intriguing next step which brings together a number of existing ideas and concepts and can unify existing gaps between semantics of programming languages and compiler-related techniques.</div></div></div><div><br></div><h2><div><div>References</div></div></h2><div><br></div><div><div><div>[1] Martín Abadi, Luca Cardelli, Pierre-Louis Curien &amp; Jean-Jacques Lévy (1991): Explicit Substitutions. J. Funct. Program. 1(4), pp. 375-416, doi:10.1017/S0956796800000186.</div></div></div><div><br></div><div><div><div>[2] Beniamino Accattoli (2015): Proof nets and the call-by-value <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="43" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="87" style="font-size: 116.9%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container> -calculus. Theor. Comput. Sci. 606, pp. 2-24, doi:10.1016/j.tcs.2015.08.006</div></div></div><div><br></div><div><div><div>[3] Beniamino Accattoli (2018): Proof Nets and the Linear Substitution Calculus. In Bernd Fischer &amp; Tarmo Uustalu, editors: Theoretical Aspects of Computing - ICTAC 2018 - 15th International Colloquium, Stellenbosch, South Africa, October 16-19, 2018, Proceedings, Lecture Notes in Computer Science 11187, Springer, pp. 37–61, doi:10.1007/978-3-030-02508-3_3.</div></div></div><div><br></div><div><div><div>[4] Beniamino Accattoli, Eduardo Bonelli, Delia Kesner &amp; Carlos Lombardi (2014): A nonstandard standardization theorem. In Suresh Jagannathan &amp; Peter Sewell, editors: The 41st Annual ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages, POPL '14, San Diego, CA, USA, January 20-21, 2014, ACM, pp. 659-670, doi:10.1145/2535838.2535886.</div></div></div><div><br></div><div><div><div>[5] Filippo Bonchi, Robin Piedeleu, Pawel Sobocinski &amp; Fabio Zanasi (2019): Graphical Affine Algebra. In: 34th Annual ACM/IEEE Symposium on Logic in Computer Science, LICS 2019, Vancouver, BC, Canada, June 24-27, 2019, IEEE, pp. 1-12, doi:10.1109/LICS.2019.8785877.</div></div></div><div><br></div><div><div><div>[6] Filippo Bonchi, Pawel Sobocinski &amp; Fabio Zanasi (2015): Full Abstraction for Signal Flow Graphs. In Sriram K. Rajamani &amp; David Walker, editors: Proceedings of the 42nd Annual ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages, POPL 2015, Mumbai, India, January 15-17, 2015, ACM, pp. 515–526, doi:10.1145/2676726.2676993.</div></div></div><div><br></div><div><div><div>[7] Cliff Click &amp; Michael Paleczny (1995): A Simple Graph-Based Intermediate Representation. In Michael D. Ernst, editor: Proceedings ACM SIGPLAN Workshop on Intermediate Representations (IR'95), San Francisco, CA, USA, January 22, 1995, ACM, pp. 35-49, doi:10.1145/202529.202534</div></div></div></span></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="10" id="mark-d2d0a199-2b79-4547-9b90-1497735eb59a" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><div><br><br></div><div><div><div>[8] Bob Coecke &amp; Aleks Kissinger (2017): Picturing Quantum Processes: A First Course in Quantum Theory and Diagrammatic Reasoning. Cambridge University Press, doi 10.1017/9781316219317</div></div></div><div><br></div><div><div><div>[9] Olivier Danvy, Kevin Millikin, Johan Munk &amp; Ian Zerny (2012): On inter-deriving small-step and big-step semantics: A case study for storeless call-by-need evaluation. Theor. Comput. Sci. 435, pp. 21-42, doi:10.1016/j.tcs.2012.02.023</div></div></div><div><br></div><div><div><div>[10] Dan R. Ghica, Achim Jung &amp; Aliaume Lopez (2017): Diagrammatic Semantics for Digital Circuits. In Valentin Goranko &amp; Mads Dam, editors: 26th EACSL Annual Conference on Computer Science Logic, CSL 2017, August 20-24, 2017, Stockholm, Sweden, LIPIcs 82, Schloss Dagstuhl - Leibniz-Zentrum für Informatik, pp. 24:1–24:16, doi:10.4230/LIPIcs.CSL.2017.24.</div></div></div><div><br></div><div><div><div>[11] Dan R. Ghica, Koko Muroya &amp; Todd Waugh Ambridge (2019): Local Reasoning for Robust Observational Equivalence. CoRR abs/1907.01257. Available at http://arxiv.org/abs/1907.01257</div></div></div><div><br></div><div><div><div>[12] Dan R. Ghica &amp; Nikos Tzevelekos (2012): A System-Level Game Semantics. In Ulrich Berger &amp; Michael W. Mislove, editors: Proceedings of the 28th Conference on the Mathematical Foundations of Programming Semantics, MFPS 2012, Bath, UK, June 6-9, 2012, Electronic Notes in Theoretical Computer Science 286, Elsevier, pp. 191-211, doi:10.1016/j.entcs.2012.08.013</div></div></div><div><br></div><div><div><div>[13] Jean-Yves Girard (1987): Linear Logic. Theor. Comput. Sci. 50, pp. 1-102, doi:10.1016/0304- 3975(87)90045-4</div></div></div><div><br></div><div><div><div>[14] Stefano Guerrini, Simone Martini &amp; Andrea Masini (2001): Proof nets, garbage, and computations. Theor. Comput. Sci. 253(2), pp. 185–237, doi:10.1016/S0304-3975(00)00094-3.</div></div></div><div><br></div><div><div><div>[15] Masahito Hasegawa (1997): Recursion from Cyclic Sharing: Traced Monoidal Categories and Models of Cyclic Lambda Calculi. In Philippe de Groote, editor: Typed Lambda Calculi and Applications, Third International Conference on Typed Lambda Calculi and Applications, TLCA ’97, Nancy, France, April 2-4, 1997, Proceedings, Lecture Notes in Computer Science 1210, Springer, pp. 196-213, doi:10.1007/3-540- 62688-3-37</div></div></div><div><br></div><div><div><div>[16] Naohiko Hoshino, Koko Muroya &amp; Ichiro Hasuo (2014): Memoryful geometry of interaction: from coalge-braic components to algebraic effects. In Thomas A. Henzinger &amp; Dale Miller, editors: Joint Meeting of the Twenty-Third EACSL Annual Conference on Computer Science Logic (CSL) and the Twenty-Ninth Annual ACM/IEEE Symposium on Logic in Computer Science (LICS), CSL-LICS '14, Vienna, Austria, July 14 - 18, 2014, ACM, pp. 52:1-52:10, doi:10.1145/2603088.2603124.</div></div></div><div><br></div><div><div><div>[17] Simon L. Peyton Jones &amp; Jon Salkild (1989): The Spineless Tagless G-Machine. In Joseph E. Stoy, editor: Proceedings of the fourth international conference on Functional programming languages and computer architecture, FPCA 1989, London, UK, September 11-13, 1989, ACM, pp. 184-201, doi:10.1145/99370.99385</div></div></div><div><br></div><div><div><div>[18] Yves Lafont (1990): Interaction Nets. In Frances E. Allen, editor: Conference Record of the Seventeenth Annual ACM Symposium on Principles of Programming Languages, San Francisco, California, USA, January 1990, ACM Press, pp. 95-108, doi:10.1145/96709.96718</div></div></div><div><br></div><div><div><div>[19] Xavier Leroy (1990): The ZINC experiment : an economical implementation of the ML language. Technical Report RT-0117, INRIA. Available at https://hal.inria.fr/inria-00070049</div></div></div><div><br></div><div><div><div>[20] Robin Milner (2008): Bigraphs and Their Algebra. Electron. Notes Theor. Comput. Sci. 209, pp. 5-19, doi:10.1016/j.entcs.2008.04.002</div></div></div><div><br></div><div><div><div>[21] Koko Muroya (2020): Hypernet Semantics of Programming Languages. Ph.D. thesis, University of Birmingham. Available at http://www.kurims.kyoto-u.ac.jp/ kmuroya/papers/phdthesis.pdf</div></div></div><div><br></div><div><div><div>[22] Koko Muroya &amp; Dan R. Ghica (2019): The Dynamic Geometry of Interaction Machine: A Token-Guided Graph Rewriter. Log. Methods Comput. Sci. 15(4). Available at https://lmcs.episciences.org/5882</div></div></div><div><br></div><div><div><div>[23] Koko Muroya, Naohiko Hoshino &amp; Ichiro Hasuo (2016): Memoryful geometry of interaction II: recursion and adequacy. In Rastislav Bodík &amp; Rupak Majumdar, editors: Proceedings of the 43rd Annual ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages, POPL 2016, St. Petersburg, FL, USA, January 20 - 22, 2016, ACM, pp. 748-760, doi:10.1145/2837614.2837672</div></div></div></div></div></div></div><div><div class="relative cursor-pointer md-tranlate-menu-layout"><div data-page="11" id="mark-6e5e4ecb-7bb4-43ba-8533-e0d6c9ca31b5" class="markdown-parser-view mb-5 relative cursor-pointer"><div style="height: auto;"><div><br><br></div><div><div><div>[24] Andrew M. Pitts (1996): Reasoning about Local Variables with Operationally-Based Logical Relations. In: Proceedings, 11th Annual IEEE Symposium on Logic in Computer Science, New Brunswick, New Jersey, USA, July 27-30, 1996, IEEE Computer Society, pp. 152-163, doi:10.1109/LICS.1996.561314.</div></div></div><div><br></div><div><div><div>[25] Andrew M. Pitts (2000): Operational Semantics and Program Equivalence. In Gilles Barthe, Peter Dyb-jer, Luís Pinto &amp; João Saraiva, editors: Applied Semantics, International Summer School, APPSEM 2000, Caminha, Portugal, September 9-15, 2000, Advanced Lectures, Lecture Notes in Computer Science 2395, Springer, pp. 378-412, doi:10.1007/3-540-45699-6-8.</div></div></div><div><br></div><div><div><div>[26] Andrew M. Pitts (2013): Nominal Sets: Names and Symmetry in Computer Science. Cambridge Tracts in Theoretical Computer Science, Cambridge University Press, doi 10.1017/CBO9781139084673</div></div></div><div><br></div><div><div><div>[27] Gordon D. Plotkin (2004): A structural approach to operational semantics. J. Log. Algebraic Methods Program. 60-61, pp. 17-139 doi:10.1016/j.jlap.2004.05.001</div></div></div><div><br></div><div><div><div>[28] Ralf Schweimeier &amp; Alan Jeffrey (1999): A Categorical and Graphical Treatment of Closure Conversion. In Stephen D. Brookes, Achim Jung, Michael W. Mislove &amp; Andre Scedrov, editors: Fifteenth Conference on Mathematical Foundations of Progamming Semantics, MFPS 1999, Tulane University, New Orleans, LA, USA, April 28 - May 1, 1999, Electronic Notes in Theoretical Computer Science 20, Elsevier, pp. 481-511, doi:10.1016/S1571-0661(04)80090-2.</div></div></div><div><br></div><div><div><div>[29] Neil Sculthorpe, Paolo Torrini &amp; Peter D. Mosses (2015): A Modular Structural Operational Semantics for Delimited Continuations. In Olivier Danvy &amp; Ugo de'Liguoro, editors: Proceedings of the Workshop on Continuations, WoC 2016, London, UK, April 12th 2015, EPTCS 212, pp. 63-80, doi 10.4204/EPTCS.212.5</div></div></div><div><br></div><div><div><div>[30] P. Selinger (2011): A Survey of Graphical Languages for Monoidal Categories, pp. 289-355. Springer Berlin Heidelberg, Berlin, Heidelberg, doi:10.1007/978-3-642-12821-9-4.</div></div></div><div><br></div><div><div><div>[31] Andrew K. Wright &amp; Matthias Felleisen (1994): A Syntactic Approach to Type Soundness. Inf. Comput. 115(1), pp. 38–94, doi:10.1006/inco.1994.1093.</div></div></div></div></div></div></div>
      </body>
    </html>
  